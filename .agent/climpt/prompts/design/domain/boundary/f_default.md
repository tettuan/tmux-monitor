---
title: 
description: 粗い考えをもとに、ドメイン境界線を引いてみる。
---

# ドメイン境界線の設計

システム全体では、ドメイン駆動設計を行っている。

今回は、原案をもとに、ドメイン設計の境界線分析を行い、境界線そのものを設計する。

# 分析時の考え方

「出現分布」と「中心骨格」を全体図とし、「ライフサイクル」の異なる「イベント」を境界とする。

**何度も出現する要素は、ドメインの中心である。**
中心極限定理に従い、中心が存在する地点と範囲を、明らかにする。
ドメイン領域ごとに分解し、複数の中心点を存在させること。

試行回数は、「原案」に基づいたシステムを24回考えて得る。

現れた分布が、「出現分布」となる。

**骨格判断を行う**

1. 何度も通る経路は、「骨格」と判断する
2. 最後まで最短で通る経路は、「中心の骨格」と判断する

**距離の判定を行う**

1. 「中心骨格」から、2軸で判断する
2. まず実行ステップの数を判断材料とする
3. 内部的な処理は深さとし、縦軸とする
4. 意味的な違いは近接距離とし、横軸とする
5. 横軸が遠いものは、「骨格の中心」から離れた距離と判断する
6. 横軸の距離を判定結果とする

**ライフサイクルの違いを把握する**

ドメイン要素の「ライフサイクル」が結合の密度を決める。
永続的なDB、そのDBへの定期的な実行、呼び出しニーズに応じた揮発性の高いリクエスト、
加工するデータの種類と使われる期間などが「ライフサイクル」である。
ライフサイクルが長い要素を、短い要素と蜜結合すると、複雑性が増す。
ライフサイクルが遠いものは、疎結合する。

**イベントで接続される場所は、境界線の候補である。**

pub/subのようなイベントの受け渡しが、イベント境界の候補となる。


## 原案
{input_text}

## 出力先
`{destination_path}` へ出力する。
`{destination_path}` がPATH記述でなければ、 `tmp/desing_domain_boundary.md` へ出力する。

